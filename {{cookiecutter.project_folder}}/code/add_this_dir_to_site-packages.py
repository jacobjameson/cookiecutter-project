#!python

import os
import sys

site_packages_folder_name = 'site-packages'
site_package_dir = [c for c in sys.path if site_packages_folder_name in c[-len(site_packages_folder_name):]]

if site_package_dir:
    site_package_dir = site_package_dir[0]
{{ cookiecutter.python_libname }}_pth_file = os.path.join(site_package_dir, '{{ cookiecutter.python_libname }}.pth')

try:
    with open({{ cookiecutter.python_libname }}_pth_file, 'r') as fh:
        print(f"Found {{ cookiecutter.python_libname }} path file at { {{ cookiecutter.python_libname }}_pth_file }")
except FileNotFoundError:
    print(f"No {{ cookiecutter.python_libname }} path file found. Creating it at { {{ cookiecutter.python_libname }}_pth_file }")

    with open({{ cookiecutter.python_libname }}_pth_file, 'w') as fh:
        current_dir = os.path.abspath(os.curdir)
        print(
            f"Writing current path ({current_dir}) to site-packages file: { {{ cookiecutter.python_libname }}_pth_file }")
        fh.write(current_dir)
